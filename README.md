# GNCSIM - GNC Simulation, Integration, and Modeling
GNCSIM is a software development project I led during my second year as the Avionics & Controls subteam lead within Georgia Tech's Guidance, Navigation, and Control rocketry club. The idea behind GNCSIM is that an object-oriented approach to simulations and controls allow for rapid simulation development for new vehicles as well as quick adjustments later in the design process. Additionally, the object-oriented approach allows for an entire simulations suite to exist within a mere handful of class files; a “master file” then acts to contain all configurability for the user to perform simulation and controller design changes. While I led the development of GNCSIM, I did not write every line of code - credit also extends to:
- Albert Zheng (https://www.linkedin.com/in/albertzheng2/) for developing sensor classes and aiding in development of the Navigation class
- David Reynolds (https://www.linkedin.com/in/david-reynolds-2b47471b9/) for implementing my linearization methods for LQR controller development in the TrimPoints and TrimBatch classes
- Karsten Caillet (https://www.linkedin.com/in/karsten-caillet/) for developing the Monte Carlo analysis framework in the Monte Carlo class

## Control Development Capabilities
For purposes of rocket controller development, GNCSIM contains the following classes:
- Aerodynamics
- Control
- Environment
- Flight
- MonteCarlo
- Rocket
- TrimPoints/TrimBatch
- Control

Rocket parameters such as thrust curve, CG, CP, mass, and moment of inertia can be set, as well as their time variability via the Rocket class. Environmental parameters such as air density and wind direction/magnitude are set in the Environment class. The Aerodynamics class implements the rocket's unique equations for aerodynamic forces and moments on the airframe. A control algorithm may be implemented via the Control Class - LQR utilizes the TrimPoints and TrimBatch classes to perform linearization about a nominal trajectory to generate its gain matrices, but PID functionality also exists. The rocket's flight is run via the Flight class, which saves off data at every time step and performs 4th-order Runge-Kutta numerical integration. Analysis plots are automatically generated via the Flight class, but one can seek to prove controller performance by establishing parameter uncertainty via the Monte Carlo class and observing resultant flight trajectories.

Rocket equations of motion are parameterized based on all inputs and reside in the rocketModel function, which returns the rate of change of the rocket's states (position, velocity, attitude, and attitude rate) as a function of the current rocket's states, the environment, and any control inputs.

<img width="500" height="400" alt="image" src="https://github.com/user-attachments/assets/c64d57e8-b52d-4c2a-9f7d-a19354905a04" />
<img width="400" height="600" alt="image" src="https://github.com/user-attachments/assets/4bce322d-18d8-4153-b75d-c49978239ee0" />

## Navigation Development Capabilities
GNCSIM also supports developing robust state estimation for the rockets at hand. The controller development toolset assumes perfect knowledge of the state - which could and should be modified in the future - but the state history generated by the controller development master file may be input into the navigation toolset to produce a state estimate taking into account sensor errors. The navigation toolset contains the following classes:
- Navigation
- Accelerometer
- Gyro
- GPS
- More sensor classes that have not yet been developed<br>
<br>
The Sensor classes allow for some truth data to be input from the actual trajectory, with a sensor reading output based on some error model for the sensor. The sensor readings are then run through two state estimation algorithms: a Kalman filter estimates the rocket's position and velocity, weighing accelerometer and GPS sensor information, while a quaternion propagator returns the rocket's attitude based on rotation rates returned by the onboard gyroscope. Because the rocket's dynamics, specifically its aerodynamics, are fairly uncertain, no physics-based model is utilized in the state estimation. The Kalman filter's "predict" step propagates accelerometer measurements, and the quaternion propagator integrates attitude rates directly without filtering. The Kalman filter's "update" step uses GPS measurements to correct for accelerometer drift. <br>
<img width="500" height="300" alt="image" src="https://github.com/user-attachments/assets/3d94b91f-4c4b-4b2d-9b26-0e2a691d1782" />
<img width="500" height="300" alt="image" src="https://github.com/user-attachments/assets/3c32f784-9c0f-42b0-83d8-9bb16f3b3463" />
<img width="500" height="300" alt="image" src="https://github.com/user-attachments/assets/5b69cda8-a858-4e8d-b70f-a32386e7ddb2" />







